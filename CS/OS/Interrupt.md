# Interrupt(μΈν„°λ½νΈ)

: ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•λ” λ„μ¤‘μ— μκΈ°μΉ μ•μ€ μƒν™©μ΄ λ°μƒν•  κ²½μ° ν„μ¬ μ‹¤ν–‰ μ¤‘μΈ μ‘μ—…μ„ μ¦‰μ‹ μ¤‘λ‹¨ν•κ³  λ°μƒν• μƒν™©μ— λ€ν• μ°μ„  μ²λ¦¬κ°€ ν•„μ”ν•¨μ„ λ§μ΄ν¬λ΅ν”„λ΅μ„Έμ„μ—κ² μ•λ¦¬λ” κ²ƒ. ν„μ¬ μν–‰ μ¤‘μΈ μΌλ³΄λ‹¤ λ” μ¤‘μ”ν• μΌ(ex. μ…μ¶λ ¥, μ°μ„  μμ„ μ—°μ‚° λ“±)μ΄ λ°μƒν•λ©΄ κ·Έ μΌμ„ λ¨Όμ € μ²λ¦¬ν•κ³  λ‚μ„ ν•λ μΌμ„ κ³„μ†ν•΄μ•Όν•¨.

- μ™Έλ¶€ / λ‚΄λ¶€ μΈν„°λ½νΈλ” `CPUμ ν•λ“μ›¨μ–΄ μ‹ νΈμ— μν•΄ λ°μƒ`
- μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλ” `λ…λ Ήμ–΄μ μν–‰μ— μν•΄ λ°μƒ`

### μ™Έλ¶€ μΈν„°λ½νΈ
μ…μ¶λ ¥ μ¥μΉ, νƒ€μ΄λ° μ¥μΉ, μ „μ› λ“± μ™Έλ¶€μ μΈ μ”μΈμΌλ΅ μΈν•΄ λ°μƒ
- `μ „μ› μ΄μƒ, κΈ°κ³„ μ°©μ¤, μ™Έλ¶€ μ‹ νΈ, μ…μ¶λ ¥`

### λ‚΄λ¶€ μΈν„°λ½νΈ
Trapμ΄λΌκ³  λ¶€λ¥΄λ©°, μλ»λ λ…λ Ήμ΄λ‚ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•  λ• λ°μƒ
- `0μΌλ΅ λ‚λ„κΈ°, μ¤λ²„ν”λ΅μ°, λ…λ Ήμ–΄ μλ» μ‚¬μ©` λ“± (Exception)

### μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ
ν”„λ΅κ·Έλ¨ μ²λ¦¬ μ¤‘ λ…λ Ήμ μ”μ²­μ— μν•΄ λ°μƒ (SCV μΈν„°λ½νΈ)
- μ‚¬μ©μκ°€ ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰μ‹ν‚¬ λ• λ°μƒ
- μ†ν”„νΈμ›¨μ–΄ μ΄μ© μ¤‘μ— λ‹¤λ¥Έ ν”„λ΅μ„Έμ¤λ¥Ό μ‹¤ν–‰μ‹ν‚¤λ©΄ μ‹λ¶„ν•  μ²λ¦¬λ¥Ό μ„ν•΄ μμ› ν• λ‹Ή λ™μ‘μ΄ μν–‰λ¨

## π’ μΈν„°λ½νΈ μ²λ¦¬ κ³Όμ •

![μΈν„°λ½νΈ μ²λ¦¬ κ³Όμ •](https://mblogthumb-phinf.pstatic.net/20160310_124/scw0531_14575366291105WjS7_PNG/ERTRTETRE.png?type=w2)

process A μ‹¤ν–‰ μ¤‘ λ””μ¤ν¬μ—μ„ μ–΄λ–¤ λ°μ΄ν„°λ¥Ό μ½μ–΄μ¤λΌλ” λ…λ Ήμ„ λ°›μ•λ‹¤κ³  κ°€μ •ν•΄λ³΄μ.
- process Aλ” `system call`μ„ ν†µν•΄ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¨λ‹¤.
- CPUλ” ν„μ¬ μ§„ν–‰ μ¤‘μΈ κΈ°κ³„μ–΄ μ½”λ“λ¥Ό μ™„λ£ν•λ‹¤.
- ν„μ¬κΉμ§€ μν–‰ μ¤‘μ΄μ—λ μƒνƒλ¥Ό ν•΄λ‹Ή processμ PCB(Process Control Block)μ— μ €μ¥ν•λ‹¤. (μν–‰ μ¤‘μ΄λ λ©”λ¨λ¦¬ μ£Όμ†, λ μ§€μ¤ν„° κ°’, ν•λ“μ›¨μ–΄ μƒνƒ λ“±λ“±..)
- PC(Program Counter, IP)μ— λ‹¤μμ— μ‹¤ν–‰ν•  λ…λ Ήμ μ£Όμ†λ¥Ό μ €μ¥ν•λ‹¤.
- μΈν„°λ½νΈ λ²΅ν„°λ¥Ό μ½κ³  ISR(Interrupt Service Routine) μ£Όμ†κ°’μ„ μ–»μ–΄ ISRλ΅ μ ν”„ν•μ—¬ λ£¨ν‹΄μ„ μ‹¤ν–‰ν•λ‹¤.
- ν•΄λ‹Ή μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ‹¤.
- μ²λ¦¬ν•κ³  λ‚λ©΄ λ€ν”Όμ‹ν‚¨ λ μ§€μ¤ν„°λ¥Ό λ³µμ›ν•λ‹¤.
- ISRμ λμ— IRET λ…λ Ήμ–΄μ— μν•΄ μΈν„°λ½νΈκ°€ ν•΄μ  λλ‹¤.
- IRET λ…λ Ήμ–΄κ°€ μ‹¤ν–‰λλ©΄, λ€ν”Όμ‹ν‚¨ PC κ°’μ„ λ³µμ›ν•μ—¬ μ΄μ „ μ‹¤ν–‰ μ„μΉλ΅ λ³µμ›ν•λ‹¤.

λ§μ•½ μΈν„°λ½νΈ κΈ°λ¥μ΄ μ—†μ—λ‹¤λ©΄, ν΄λ§(Polling) κΈ°λ²•
- μΈν„°λ½νΈ λ°©μ‹ & ν΄λ§ λ°©μ‹ (μ»¨νΈλ΅¤λ¬κ°€ μ°μ„ μμ„λ¥Ό νλ³„ν•λ” λ²•)
  - ν΄λ§ λ°©μ‹
    - μ‚¬μ©μκ°€ λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•΄ μ…λ ¥ ν•€μ κ°’μ„ κ³„μ† μ½μ–΄ λ³€ν™”λ¥Ό μ•μ•„λ‚΄λ” λ°©μ‹
    - μΈν„°λ½νΈ μ”μ²­ ν”λκ·Έλ¥Ό μ°¨λ΅€λ΅ λΉ„κµν•μ—¬ μ°μ„ μμ„κ°€ κ°€μ¥ λ†’μ€ μΈν„°λ½νΈ μμ›μ„ μ°Ύμ•„ μ΄μ— λ§λ” μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ„ μν–‰ (ν•λ“μ›¨μ–΄μ— λΉ„ν•΄ μ†λ„κ°€ λλ¦Ό)
  - μΈν„°λ½νΈ λ°©μ‹
    - MCU μμ²΄κ°€ ν•λ“μ›¨μ–΄μ μΌλ΅ μ‹ νΈλ¥Ό ν™•μΈν•μ—¬ λ³€ν™” μ‹μ—λ§ μΌμ •ν• λ™μ‘μ„ ν•λ” λ°©μ‹
  - μΈν„°λ½νΈ λ°©μ‹μ€ ν•λ“μ›¨μ–΄ μ§€μ›μ„ λ°›μ•„μ•Ό ν•λ” μ μ•½μ΄ μμ§€λ§ ν΄λ§μ— λΉ„ν•΄ μ‹ μ†ν•κ² λ€μ‘ν•  μ μμ. μ‹¤μ‹κ°„ λ€μ‘μ΄ ν•„μ”ν•  λ•λ” ν•„μμ μΈ κΈ°λ¥.
  - μ¦‰, μΈν„°λ½νΈλ” λ°μƒμ‹κΈ°λ¥Ό μμΈ΅ν•κΈ° νλ“  κ²½μ°μ— μ»¨νΈλ΅¤λ¬κ°€ κ°€μ¥ λΉ λ¥΄κ² λ€μ‘ν•  μ μλ” λ°©λ²•

#### μ°Έκ³ 
<https://gyoogle.dev/blog/computer-science/operating-system/Interrupt.html>

<https://velog.io/@adam2/%EC%9D%B8%ED%84%B0%EB%9F%BD%ED%8A%B8>

μΈν„°λ½νΈ vs ν΄λ§ <https://kkhipp.tistory.com/155>